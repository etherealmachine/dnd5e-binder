(this["webpackJsonpdnd5e-binder"]=this["webpackJsonpdnd5e-binder"]||[]).push([[0],{202:function(e,t,n){e.exports=n(435)},209:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(28),s=n.n(i),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=n(32),u=n(201),d=n.n(u),m=(n(207),n(208),n(31)),p=n(10),h=n(11),f=n(18),v=n(17),g=n(194),b=n.n(g),y=n(33),w=n.n(y),E=n(197),x=n.n(E),k=n(48),O=n.n(k),j=n(196),S=n.n(j),C=n(200),I=n.n(C),N=n(199),D=n.n(N),A=n(195),B=n.n(A),T=n(198),P=n.n(T),R=n(46),M=n.n(R),W=n(6),L=n.n(W),_=(n(209),n(103)),z=n(26),G=n.n(z),K=n(35),H=n(54),q=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,[{key:"raw_request",value:function(e){var t=new XMLHttpRequest;return new Promise((function(n,r){t.onreadystatechange=function(){4===t.readyState&&(t.status>=200&&t.status<300?n(JSON.parse(t.responseText)):r({status:t.status,statusText:t.statusText}))},t.open("GET",e,!0),t.send()}))}},{key:"listImages",value:function(){var e=Object(K.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw_request("http://localhost:5000/listImages");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchImages",value:function(){var e=Object(K.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw_request("http://localhost:5000/searchImages?q=".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadImage",value:function(){var e=Object(K.a)(G.a.mark((function e(t,n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw_request("http://localhost:5000/downloadImage?name=".concat(t,"&url=").concat(encodeURIComponent(n)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"listDataFiles",value:function(){var e=Object(K.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw_request("http://localhost:5000/listDataFiles");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),F=function(){function e(){Object(p.a)(this,e),this.sources=void 0,this.backgrounds={},this.classes={},this.feats={},this.items={},this.monsters={},this.races={},this.spells={},this.loaded=!1}return Object(h.a)(e,[{key:"parseHP",value:function(e){var t=e.hp.match(/\d+ \((\d+)d(\d+)(\+(\d+))?\)/);if(t)return{num:parseInt(t[1]),die:parseInt(t[2]),bonus:parseInt(t[4])}}},{key:"parseSpellcasting",value:function(e){var t=e.trait;if(t)return t instanceof Array||(t=[t]),t.map((function(e){if("Spellcasting"===e.name){var t=e.text;t instanceof Array||(t=[t]);var n,r=Object(H.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value.match(/spell save DC (\d+), \+(\d+) to hit with spell attacks/);if(!a)return;return{dc:parseInt(a[1]),modifier:parseInt(a[2])}}}catch(i){r.e(i)}finally{r.f()}}})).find((function(e){return e}))}},{key:"parseSpellSlots",value:function(e){var t,n=this;if(!e.spells)return[];var r=e.spells.replace(/^Spells: /,"").split(",").map((function(e){return Object.values(n.spells).find((function(t){return t.name.toLowerCase()===e.trim().toLowerCase()}))})).filter((function(e){return e})),a=r.filter((function(e){return 0===e.level})),i=(null===(t=e.slots)||void 0===t?void 0:t.split(","))||[];return[{spells:a,slots:NaN}].concat(i.map((function(e,t){return{spells:r.filter((function(e){return e.level===t+1})),slots:parseInt(e)}})))}},{key:"load",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t=this;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sources=["Backgrounds 1.6.0.json","Bestiary Compendium 2.1.0.json","Character Compendium 3.1.0.json","Classes 3.1.1.json","Curse of Strahd Bestiary 1.2.0.json","EE Spells 2.6.json","Feats 1.4.1.json","Futuristic Items 1.2.json","Hoard of the Dragon Queen Bestiary 1.3.0.json","Items Compendium 1.7.0.json","Magic Items 5.3.json","Modern Items 1.2.json","Modern Spells 1.1.json","Monster Manual Bestiary 2.6.0.json","Mundane Items 2.8.0.json","Out of the Abyss 1.4.0.json","PHB Spells 3.9.0.json","Phandelver Bestiary 1.3.0.json","Princes of the Apocalypse Bestiary 1.3.0.json","Races 2.0.json","Renaissance Items 1.3.json","SCAG Spells 1.2.json","Spells Compendium 1.3.0.json","Storm King_s Thunder Bestiary 1.1.0.json","The Rise of Tiamat Bestiary 1.3.0.json","UA_Demon Summoning 1.0.json","UA_Races 1.0.1.json","Valuable Items 1.3.json","Volo_s Bestiary 1.1.0.json"],e.next=3,Promise.all(this.sources.map(function(){var e=Object(K.a)(G.a.mark((function e(n){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new q).raw_request("".concat("/dnd5e-binder","/data/").concat(n));case 2:r=e.sent,t.loadData(n,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:window.compendium=this,this.loaded=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(t,n){var r=this;Object.entries(e.types).forEach((function(e){var a=Object(_.a)(e,2),i=a[0],s=a[1];n.hasOwnProperty(i)&&Object.values(n[i]).forEach((function(e){e.name&&(e.source=t,e.kind=i.slice(0,i.length),r[s][e.name]=e)}))}))}}],[{key:"modifier",value:function(e){return void 0===e?NaN:("string"===typeof e&&(e=parseInt(e)),Math.floor((e-10)/2))}},{key:"modifierText",value:function(e){return isNaN(e)?"":e<0?e:"+"+e}},{key:"xp_to_cr",value:function(e){return(Object.entries(this.cr_to_xp).sort((function(e,t){return e[1]-t[1]})).find((function(t){return e<=t[1]}))||["30+",NaN])[0]}},{key:"ac",value:function(e){if("string"===typeof e.ac){var t=e.ac.match(/(\d+)/);return null!==t?parseInt(t[1]):10}return e.ac}}]),e}();F.abilities=["Strength","Dexterity","Constitution","Intelligence","Wisdom","Charisma"],F.skills={Acrobatics:"Dexterity","Animal Handling":"Wisdom",Arcana:"Intelligence",Athletics:"Strength",Deception:"Charisma",History:"Wisdom",Insight:"Wisdom",Intimidation:"Charisma",Investigation:"Intelligence",Medicine:"Wisdom",Nature:"Intelligence",Perception:"Wisdom",Performance:"Charisma",Persuasion:"Charisma",Religion:"Intelligence","Slight of Hand":"Dexterity",Stealth:"Dexterity",Survival:"Wisdom"},F.coinage=["Copper","Silver","Electrum","Gold","Platinum"],F.hit_dice_for_class={Barbarian:12,Bard:8,Cleric:8,Druid:8,Fighter:10,Monk:8,Paladin:10,Ranger:10,Rogue:8,Sorcerer:6,Warlock:8,Wizard:6},F.types={background:"backgrounds",class:"classes",feat:"feats",item:"items",monster:"monsters",race:"races",spell:"spells"},F.cr_to_xp={0:10,"1/8":25,"1/4":50,"1/2":100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},F.encounter_difficulty={1:[25,50,75,100],2:[50,100,150,200],3:[75,150,225,400],4:[125,250,375,500],5:[250,500,750,1100],6:[300,600,900,1400],7:[350,750,1100,1700],8:[450,900,1400,2100],9:[550,1100,1600,2400],10:[600,1200,1900,2800],11:[800,1600,2400,3600],12:[1e3,2e3,3e3,4500],13:[1100,2200,3400,5100],14:[1250,2500,3800,5700],15:[1400,2800,4300,6400],16:[1600,3200,4800,7200],17:[2e3,3900,5900,8800],18:[2100,4200,6300,9500],19:[2400,4900,7300,10900],20:[2800,5700,8500,12700]};var J=F,U=n(16),V=n(66),Q=n.n(V),Y=n(102),Z=n.n(Y),X=n(67),$=n.n(X),ee=n(68),te=n.n(ee),ne=Object(l.createStyles)({card:{width:400,margin:"10px 20px",overflowY:"auto"},media:{height:140,backgroundPosition:"center"},action:{display:"flex",flexDirection:"column"},actionName:{fontWeight:600},h5InputParent:{width:"100%",marginBottom:"10px"},h5Input:{width:"100%",color:"rgba(0, 0, 0, 0.87)",fontSize:"1.5rem",fontWeight:400,lineHeight:"1.33",letterSpacing:"0em",paddingTop:"3px",marginBottom:"2.4px",padding:"0"},table:{textAlign:"center"},numberInputParent:{maxWidth:"2em",alignSelf:"center"},titleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"}}),re=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"renderText",value:function(e){return e instanceof Array||(e=[e]),e.map((function(e,t){return r.createElement(L.a,{key:t},e)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.spell,a=e.handleCloseClicked;return r.createElement(Q.a,{className:t.card},r.createElement($.a,null,r.createElement("div",{className:t.titleRow},r.createElement(L.a,{variant:"h5"},n.name),a&&r.createElement(O.a,{onClick:a},r.createElement(te.a,null))),r.createElement(L.a,null,"Level: ",n.level),r.createElement(L.a,null,"Classes: ",n.classes),r.createElement(L.a,null,"Time: ",n.time),r.createElement(L.a,null,"Duration: ",n.duration),r.createElement(L.a,null,"Range: ",n.range),r.createElement(L.a,null,"Components: ",n.components),r.createElement(L.a,null,"School: ",n.school),this.renderText(n.text)),r.createElement(Z.a,null,r.createElement(w.a,{color:"primary"},"Add To Character")))}}]),n}(r.Component),ae=Object(l.withStyles)(ne)(re),ie=n(69),se=n.n(ie),oe=Object(l.createStyles)({container:{display:"flex",flexDirection:"column",flex:"1"},tableWithCard:{display:"flex",flex:"1",marginBottom:"20px"},table:{flex:"1",overflow:"hidden"},highlight:{boxSizing:"border-box",borderBottom:"1px solid #e0e0e0",cursor:"pointer",backgroundColor:"#a9e7ff"},row:{boxSizing:"border-box",borderBottom:"1px solid #e0e0e0",cursor:"pointer"},odd:{boxSizing:"border-box",borderBottom:"1px solid #e0e0e0",backgroundColor:"#fafafa",cursor:"pointer"}}),ce=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleSearchChanged=function(e){a.setState({query:e.currentTarget.value})},a.handleRowClick=function(e){e.event;var t=e.index;e.rowData;a.setState({selectedItemIndex:t,scrollToRow:t})},a.handleCloseClicked=function(e){a.setState({selectedItemIndex:void 0})},a.onScrollToChange=function(e){if(null!==a.tableRef.current){var t=s.a.findDOMNode(a.tableRef.current.Grid);t instanceof HTMLElement&&t.focus()}a.setState({scrollToRow:e.scrollToRow})},a.sort=function(e){var t=e.sortBy,n=e.sortDirection;a.state.sortDirection===U.d.DESC&&(t=void 0,n=void 0),a.setState({sortBy:t,sortDirection:n})},a.tableRef=r.createRef(),a.state={query:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.name,i=t.compare,s=t.renderItemCard,o=t.items,c=t.children,l=this.state,u=l.query,d=l.sortBy,m=l.sortDirection,p=l.scrollToRow,h=l.selectedItemIndex,f=Object.values(o).filter((function(e){return""===u||e.name.toLowerCase().includes(u.toLowerCase())}));return f.sort(i(d||"name",m||U.d.ASC)),r.createElement("div",{className:n.container},r.createElement(se.a,{label:"Search ".concat(a),type:"search",margin:"normal",value:this.state.query,onChange:this.handleSearchChanged}),r.createElement("div",{className:n.tableWithCard},r.createElement("div",{className:n.table},r.createElement(U.b,null,(function(t){var a=t.height,i=t.width;return r.createElement(U.a,{isControlled:!0,onScrollToChange:e.onScrollToChange,columnCount:1,mode:"cells",rowCount:f.length,scrollToRow:p},(function(t){var s=t.onSectionRendered,o=(t.scrollToColumn,t.scrollToRow);return r.createElement(U.e,{ref:e.tableRef,headerHeight:30,height:a,rowClassName:function(e){var t=e.index;return o===t?n.highlight:t%2===0?n.row:n.odd},noRowsRenderer:function(){return r.createElement("div",null,"No rows")},rowHeight:80,rowGetter:function(e){var t=e.index;return f[t]},rowCount:f.length,onSectionRendered:s,scrollToIndex:o,onRowClick:e.handleRowClick,width:i,sort:e.sort,sortBy:d,sortDirection:m},c)}))}))),void 0!==h&&h<f.length&&s(f[h],this.handleCloseClicked)))}}]),n}(r.Component),le=Object(l.withStyles)(oe)(ce),ue=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).compare=function(e,t){return function(n,r){var a=t===U.d.ASC?1:-1;return(n[e]||"").toString().toLowerCase()<=(r[e]||"").toString().toLowerCase()?-a:a}},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.spells;return r.createElement(le,{name:"Spells",items:e,compare:this.compare,renderItemCard:function(e,t){return r.createElement(ae,{spell:e,handleCloseClicked:t})}},r.createElement(U.c,{label:"name",dataKey:"name",width:250}),r.createElement(U.c,{label:"level",dataKey:"level",width:70}),r.createElement(U.c,{label:"classes",dataKey:"classes",className:"wrap",flexGrow:1,width:0}),r.createElement(U.c,{label:"school",dataKey:"school",className:"wrap",flexGrow:1,width:0}),r.createElement(U.c,{label:"duration",dataKey:"duration",className:"wrap",flexGrow:1,width:0}),r.createElement(U.c,{label:"time",dataKey:"time",className:"wrap",flexGrow:1,width:0}))}}]),n}(r.Component),de=Object(l.createStyles)({card:{width:400,margin:"10px 20px",overflowY:"auto"},media:{height:140,backgroundPosition:"center"},action:{display:"flex",flexDirection:"column"},actionName:{fontWeight:600},h5InputParent:{width:"100%",marginBottom:"10px"},h5Input:{width:"100%",color:"rgba(0, 0, 0, 0.87)",fontSize:"1.5rem",fontWeight:400,lineHeight:"1.33",letterSpacing:"0em",paddingTop:"3px",marginBottom:"2.4px",padding:"0"},table:{textAlign:"center"},numberInputParent:{maxWidth:"2em",alignSelf:"center"},titleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"}}),me=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"renderText",value:function(e){return e instanceof Array||(e=[e]),e.map((function(e,t){return r.createElement(L.a,{key:t},e)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.item,a=e.handleCloseClicked;return r.createElement(Q.a,{className:t.card},r.createElement($.a,null,r.createElement("div",{className:t.titleRow},r.createElement(L.a,{variant:"h5"},n.name),a&&r.createElement(O.a,{onClick:a},r.createElement(te.a,null))),r.createElement(L.a,null,"Range: ",n.range),r.createElement(L.a,null,"Damage: ",n.dmg1),r.createElement(L.a,null,"Type: ",n.dmgType),r.createElement(L.a,null,"Value: ",n.value),r.createElement(L.a,null,"AC: ",n.ac),this.renderText(n.text)),r.createElement(Z.a,null,r.createElement(w.a,{color:"primary"},"Add To Character")))}}]),n}(r.Component),pe=Object(l.withStyles)(de)(me),he=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).parseValue=function(e){return e.includes("cp")?parseInt(e.split("cp")[0])/100:e.includes("sp")?parseInt(e.split("sp")[0])/10:e.includes("ep")?parseInt(e.split("ep")[0])/2:e.includes("gp")?parseInt(e.split("gp")[0]):e.includes("pp")?10*parseInt(e.split("pp")[0]):NaN},e.compare=function(t,n){return function(r,a){var i=n===U.d.ASC?1:-1;return"value"===t?e.parseValue(r.value||"0gp")<=e.parseValue(a.value||"0gp")?-i:i:(r[t]||"").toString().toLowerCase()<=(a[t]||"").toString().toLowerCase()?-i:i}},e.renderItemCard=function(e,t){return r.createElement(pe,{item:e,handleCloseClicked:t})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.items;return r.createElement(le,{name:"Items",items:e,renderItemCard:this.renderItemCard,compare:this.compare},r.createElement(U.c,{label:"name",dataKey:"name",width:250}),r.createElement(U.c,{label:"range",dataKey:"range",flexGrow:1,className:"wrap",width:0}),r.createElement(U.c,{label:"damage",dataKey:"dmg1",flexGrow:1,className:"wrap",width:0}),r.createElement(U.c,{label:"type",dataKey:"dmgType",flexGrow:1,className:"wrap",width:0}),r.createElement(U.c,{label:"value",dataKey:"value",flexGrow:1,className:"wrap",width:0}),r.createElement(U.c,{label:"ac",dataKey:"ac",flexGrow:1,className:"wrap",width:0}))}}]),n}(r.Component),fe=n(9),ve=n.n(fe),ge=Object(l.createStyles)({card:{width:400,margin:"10px 20px",overflowY:"auto"},media:{height:140,backgroundPosition:"center"},action:{display:"flex",flexDirection:"column"},actionName:{fontWeight:600},h5InputParent:{width:"100%",marginBottom:"10px"},h5Input:{width:"100%",color:"rgba(0, 0, 0, 0.87)",fontSize:"1.5rem",fontWeight:400,lineHeight:"1.33",letterSpacing:"0em",paddingTop:"3px",marginBottom:"2.4px",padding:"0"},table:{textAlign:"center"},numberInputParent:{maxWidth:"2em",alignSelf:"center"},iconButton:{padding:0},titleRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"}}),be=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).inputRef=r.createRef(),e.renderAction=function(t,n){return r.createElement("span",{key:"action-".concat(n)},r.createElement("span",{className:e.props.classes.actionName},t.name),": ",t.text)},e.renderActions=function(t){if(!t)return null;t instanceof Array||(t=[t]);var n=t.map(e.renderAction);return r.createElement("div",{className:e.props.classes.action},n)},e.renderSpellSlots=function(e){return e.split(",").map((function(e,t){var n=parseInt(e);return n>0?r.createElement(se.a,{key:t,value:n,type:"number"}):null})).filter((function(e){return null!=e}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.monster,a=e.handleCloseClicked,i=n.name,s=n.cr,o=n.ac,c=n.hp,l=n.passive,u=n.size,d=n.speed,m=n.str,p=n.dex,h=n.con,f=n.int,v=n.wis,g=n.cha,b=n.skill,y=n.senses,w=n.alignment,E=n.languages,x=n.type,k=n.description,j=n.action,S=n.reaction,C=n.legendary,I=n.trait,N=n.save,D=n.resist,A=n.vulnerable,B=n.immune,T=n.conditionImmune,P=n.spells,R=n.slots,M=this.renderActions(j),W=this.renderActions(S),_=this.renderActions(C),z=this.renderActions(I),G=R?this.renderSpellSlots(R):null;return r.createElement(Q.a,{className:t.card},r.createElement($.a,null,r.createElement("div",{className:t.titleRow},r.createElement(L.a,{variant:"h5"},i),a&&r.createElement(O.a,{onClick:a},r.createElement(te.a,null))),r.createElement("div",{className:"row justify-content-space-around"},r.createElement("table",{className:ve()("flex-1",t.table)},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"CR"),r.createElement("th",null,"XP"),r.createElement("th",null,"AC"),r.createElement("th",null,"HP"),r.createElement("th",null,"Passive"),r.createElement("th",null,"Size"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,s),r.createElement("td",null,F.cr_to_xp[s]),r.createElement("td",null,"string"===typeof o?o.split(" ")[0]:o),r.createElement("td",null,"string"===typeof c?c.split(" ")[0]:c),r.createElement("td",null,l),r.createElement("td",null,u))))),r.createElement("div",{className:"row"},r.createElement("table",{className:ve()("flex-1",t.table)},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Str"),r.createElement("th",null,"Dex"),r.createElement("th",null,"Con"),r.createElement("th",null,"Int"),r.createElement("th",null,"Wis"),r.createElement("th",null,"Cha"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,F.modifierText(F.modifier(m))),r.createElement("td",null,F.modifierText(F.modifier(p))),r.createElement("td",null,F.modifierText(F.modifier(h))),r.createElement("td",null,F.modifierText(F.modifier(f))),r.createElement("td",null,F.modifierText(F.modifier(v))),r.createElement("td",null,F.modifierText(F.modifier(g)))),r.createElement("tr",null,r.createElement("td",null,m),r.createElement("td",null,p),r.createElement("td",null,h),r.createElement("td",null,f),r.createElement("td",null,v),r.createElement("td",null,g))))),r.createElement(L.a,null,"Speed: ",d),r.createElement(L.a,null,"Skills: ",b),r.createElement(L.a,null,"Senses: ",y),r.createElement(L.a,null,"Languages: ",E),r.createElement(L.a,null,"Alignment: ",w),r.createElement(L.a,null,"Type: ",x),k&&r.createElement(L.a,null,k),M&&r.createElement("div",null,r.createElement(L.a,{gutterBottom:!0,variant:"h6"},"Actions"),M),W&&r.createElement("div",null,r.createElement(L.a,{gutterBottom:!0,variant:"h6"},"Reactions"),W),_&&r.createElement("div",null,r.createElement(L.a,{gutterBottom:!0,variant:"h6"},"Legendary Actions"),_),z&&r.createElement("div",null,r.createElement(L.a,{gutterBottom:!0,variant:"h6"},"Traits"),z),N&&r.createElement(L.a,null,"Save: ",N),D&&r.createElement(L.a,null,"Resist: ",D),A&&r.createElement(L.a,null,"Vulnerable: ",A),B&&r.createElement(L.a,null,"Immune: ",B),T&&r.createElement(L.a,null,"Condition Immunities: ",T),P&&r.createElement(L.a,null,"Spells: ",P),r.createElement("div",null,G)))}}]),n}(r.Component),ye=Object(l.withStyles)(ge)(be),we=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).firstNumber=function(e){var t=e.rowData[e.dataKey];return"string"===typeof t?t.split(" ")[0]:t},e.parseFirst=function(e){return"string"===typeof e?parseInt(e.split(" ")[0]):e},e.compare=function(t,n){return function(r,a){var i=n===U.d.ASC?1:-1;return"hp"===t||"ac"===t||"cr"===t||"passive"===t?e.parseFirst(r[t]||"0")<=e.parseFirst(a[t]||"0")?-i:i:(r[t]||"").toString().toLowerCase()<=(a[t]||"").toString().toLowerCase()?-i:i}},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.monsters;return r.createElement(le,{name:"Monsters",items:e,compare:this.compare,renderItemCard:function(e,t){return r.createElement(ye,{monster:e,handleCloseClicked:t})}},r.createElement(U.c,{label:"name",dataKey:"name",width:250}),r.createElement(U.c,{label:"cr",dataKey:"cr",flexGrow:1,width:0}),r.createElement(U.c,{label:"xp",dataKey:"xp",cellDataGetter:function(e){return F.cr_to_xp[e.rowData[e.dataKey]]},flexGrow:1,width:0}),r.createElement(U.c,{label:"hp",dataKey:"hp",cellDataGetter:this.firstNumber,flexGrow:1,width:0}),r.createElement(U.c,{label:"ac",dataKey:"ac",className:"wrap",cellDataGetter:this.firstNumber,flexGrow:1,width:0}),r.createElement(U.c,{label:"size",dataKey:"size",flexGrow:1,width:0}),r.createElement(U.c,{label:"passive",dataKey:"passive",flexGrow:1,width:0}),r.createElement(U.c,{label:"skill",dataKey:"skill",className:"wrap",flexGrow:1,width:0}),r.createElement(U.c,{label:"save",dataKey:"save",className:"wrap",flexGrow:1,width:0}))}}]),n}(r.Component),Ee=Object(l.createStyles)({container:{display:"flex",flexDirection:"column",flex:"1"},list:{display:"flex",flexDirection:"column",flex:"1",marginBottom:"20px"}}),xe=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).handleSearchChanged=function(e){r.setState({query:e.currentTarget.value})},r.state={query:""},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.renderItem,i=this.state.query,s=Object.values(n).filter((function(e){return""===i||e.name.toLowerCase().includes(i.toLowerCase())}));return r.createElement("div",{className:t.container},r.createElement(se.a,{label:"Search",type:"search",margin:"normal",value:this.state.query,onChange:this.handleSearchChanged}),r.createElement("div",{className:t.list},s.map(a)))}}]),n}(r.Component),ke=Object(l.withStyles)(Ee)(xe),Oe=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderBackground=function(e,t){var n=[];return e.trait.forEach((function(e){var t=e.text;e.text instanceof Array||(t=[e.text]),n.push(r.createElement("p",{key:n.length},r.createElement("span",{className:"term"},e.name,":"),"\xa0",t.map((function(e,t){return r.createElement("span",{key:t},e,r.createElement("br",null))}))))})),r.createElement("div",{key:t},r.createElement("h2",null,e.name),r.createElement("p",null,r.createElement("span",{className:"term"},"Proficiency:")," ",e.proficiency),n)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.backgrounds;return r.createElement(ke,{items:e,renderItem:this.renderBackground})}}]),n}(r.Component),je=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderFeat=function(e,t){var n=e.text;return n instanceof Array||(n=[n]),r.createElement("div",{key:t},r.createElement("h2",null,e.name),r.createElement("p",null,r.createElement("span",{className:"term"},"Modifier: ",e.modifier)),r.createElement("p",null,n.map((function(e,t){return r.createElement("span",{key:t},e,r.createElement("br",null))}))),r.createElement(w.a,{color:"primary"},"Add To Character"))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.feats;return r.createElement(ke,{items:e,renderItem:this.renderFeat})}}]),n}(r.Component),Se=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.clazz,t=[];return e.autolevel.filter((function(e){return e.feature})).forEach((function(e){var n=e.feature||[];n instanceof Array||(n=[n]),n.forEach((function(e){var n=e.text;e.text instanceof Array||(n=[e.text]);var a=n.map((function(e,t){return r.createElement("span",{key:t},e,r.createElement("br",null))}));t.push(r.createElement(L.a,{key:t.length},r.createElement("span",{className:"term"},e.name,":"),"\xa0",a))}))})),r.createElement("div",null,r.createElement("h2",null,e.name),r.createElement(L.a,null,r.createElement("span",{className:"term"},"Hit Die: ",e.hd)),r.createElement(L.a,null,r.createElement("span",{className:"term"},"Proficiency: ",e.proficiency)),r.createElement(L.a,null,e.spellAbility&&r.createElement("span",null,r.createElement("span",{className:"term"},"Spell Ability:"),"\xa0",e.spellAbility)),t)}}]),n}(r.Component),Ce=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderClass=function(e,t){return r.createElement(Se,{key:t,clazz:e})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.createElement(ke,{items:e,renderItem:this.renderClass})}}]),n}(r.Component),Ie=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.race,t=[],n=e.trait;return n instanceof Array||(n=[n]),n.forEach((function(e){var n=e.text;e.text instanceof Array||(n=[e.text]),t.push(r.createElement("div",{key:t.length},r.createElement("span",{className:"term"},e.name),r.createElement("span",null,"\xa0",n.map((function(e,t){return r.createElement("span",{key:t},e,r.createElement("br",null))})))))})),r.createElement("div",null,r.createElement(L.a,{variant:"h5"},e.name),r.createElement(L.a,null,r.createElement("span",{className:"term"},"Ability:"),"\xa0",e.ability),r.createElement(L.a,null,r.createElement("span",{className:"term"},"Size:"),"\xa0",e.size),r.createElement(L.a,null,r.createElement("span",{className:"term"},"Speed:"),"\xa0",e.speed),t)}}]),n}(r.Component),Ne=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderRace=function(e,t){return r.createElement(Ie,{key:t,race:e})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.races;return r.createElement(ke,{items:e,renderItem:this.renderRace})}}]),n}(r.Component),De=n(187),Ae=n(190),Be=n(70),Te=n(188),Pe=n(189),Re=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,null,[{key:"Up",value:function(e){return void 0===e?"\x1b[A":"\x1b[".concat(e,"A")}},{key:"Down",value:function(e){return void 0===e?"\x1b[B":"\x1b[".concat(e,"B")}},{key:"Right",value:function(e){return void 0===e?"\x1b[C":"\x1b[".concat(e,"C")}},{key:"Left",value:function(e){return void 0===e?"\x1b[D":"\x1b[".concat(e,"D")}},{key:"SetColumn",value:function(e){return"\x1b[".concat(e,"G")}},{key:"SetPosition",value:function(e,t){return"\x1b[".concat(e,";").concat(t,"H")}},{key:"ClearScreen",value:function(e){return"\x1b[".concat(e,"J")}},{key:"ClearLine",value:function(e){return"\x1b[".concat(e,"K")}}]),e}();Re.Black="\x1b[30m",Re.Red="\x1b[31m",Re.Green="\x1b[32m",Re.Yellow="\x1b[33m",Re.Blue="\x1b[34m",Re.Magenta="\x1b[35m",Re.Cyan="\x1b[36m",Re.White="\x1b[37m",Re.Reset="\x1b[0m",Re.Bold="\x1b[1m",Re.Underline="\x1b[4m",Re.Reversed="\x1b[7m";var Me=Re,We=(n(406),"".concat(Me.Red).concat(Me.Bold,"rpg.ai > ").concat(Me.Reset)),Le=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g"),_e=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).term=void 0,r.fitAddon=void 0,r.termEl=void 0,r.reader=void 0,r.props.program.stdin=Object(Be.a)(r),r.props.program.stdout=Object(Be.a)(r),r.props.program.stderr=Object(Be.a)(r),r.term=new Te.Terminal,r.fitAddon=new Pe.FitAddon,r.state={commandBuffer:"",tmpBuffer:"",cursor:0,historyIndex:0,history:[],suggestions:[]},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){if(null!==this.termEl&&void 0!==this.termEl){this.term.loadAddon(this.fitAddon),this.term.open(this.termEl),this.term.onData(this.handleData.bind(this)),this.fitAddon.fit();var e=this.props.program.startup();e&&this.write(e),this.displayPrompt()}}},{key:"up",value:function(){var e=this.state,t=e.historyIndex,n=e.commandBuffer,r=e.tmpBuffer;if(!(t-1<0)){var a=t-1;this.setState(Object(m.a)({},this.state,{historyIndex:a,commandBuffer:this.state.history[a],tmpBuffer:t===this.state.history.length?n:r,cursor:this.state.history[a].length}))}}},{key:"down",value:function(){var e=this.state,t=e.historyIndex,n=e.tmpBuffer;if(t+1>=this.state.history.length)this.setState(Object(m.a)({},this.state,{historyIndex:this.state.history.length,commandBuffer:n,cursor:n.length}));else{var r=t+1;this.setState(Object(m.a)({},this.state,{historyIndex:r,commandBuffer:this.state.history[r],cursor:0}))}}},{key:"left",value:function(){var e=this.state.cursor;this.setState(Object(m.a)({},this.state,{cursor:Math.max(0,e-1)}))}},{key:"right",value:function(){var e=this.state,t=e.commandBuffer,n=e.cursor;this.setState(Object(m.a)({},this.state,{cursor:Math.min(t.length,n+1)}))}},{key:"delete",value:function(){var e=this.state,t=e.commandBuffer,n=e.cursor;this.setState(Object(m.a)({},this.state,{cursor:Math.max(0,n-1),commandBuffer:t.substring(0,n-1)+t.substring(n,t.length)}))}},{key:"addCharacter",value:function(e){var t=this.state,n=t.commandBuffer,r=t.cursor;this.setState(Object(m.a)({},this.state,{cursor:this.state.cursor+1,commandBuffer:n.substring(0,r)+e+n.substring(r,n.length)}))}},{key:"handleData",value:function(e){var t=e.charCodeAt(0);if(27===t)switch(e){case Me.Up():this.up();break;case Me.Down():this.down();break;case Me.Left():this.left();break;case Me.Right():this.right()}else if(127===t)this.delete();else if(13===t)this.reader?(this.reader(this.state.commandBuffer),this.reader=void 0,this.setState(Object(m.a)({},this.state,{cursor:0,commandBuffer:"",tmpBuffer:""}))):this.runCommand();else if(9===t){var n=this.props.program.suggestions(this.state.commandBuffer);1===n.length?this.setState(Object(m.a)({},this.state,{commandBuffer:n[0]})):this.setState(Object(m.a)({},this.state,{suggestions:n}))}else 3===t&&this.state.running?(this.state.running.cancel(),this.setState(Object(m.a)({},this.state,{running:void 0}))):(this.addCharacter(e),this.state.running&&this.write(e));this.state.running||this.displayPrompt()}},{key:"write",value:function(e){this.term.write(e)}},{key:"read",value:function(){var e=this;return new Promise((function(t){e.reader=t}))}},{key:"displayPrompt",value:function(){var e,t=this;this.term.write(Me.SetColumn(0));var n=(null===(e=this.props.program.prompt)||void 0===e?void 0:e.call(this.props.program))||We;this.term.write(n),this.term.write(Me.ClearLine(0)),this.term.write(this.state.commandBuffer),this.term.write(Me.ClearScreen(0)),this.state.suggestions.length>0&&(this.term.write("\r\n"),this.state.suggestions.forEach((function(e){t.term.write(e),t.term.write("\r\n")})),this.term.write(Me.Up(this.state.suggestions.length+1))),this.term.write(Me.SetColumn(n.replace(Le,"").length+this.state.cursor+1))}},{key:"runCommand",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t,n,r,a,i,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.program,r=this.state,a=r.commandBuffer,i=r.history,s=(null===(t=this.props.program.prompt)||void 0===t?void 0:t.call(this.props.program))||We,this.term.write(Me.SetColumn(s.replace(Le,"").length+this.state.commandBuffer.length+1)),this.term.write(Me.ClearScreen(0)),this.term.write("\r\n"),"history"!==a){e.next=10;break}this.write(this.state.history.join("\r\n")),e.next=19;break;case 10:if("clear"!==a){e.next=15;break}this.term.write(Me.SetPosition(1,1)),this.term.write(Me.ClearScreen(2)),e.next=19;break;case 15:return this.setState(Object(m.a)({},this.state,{running:n,commandBuffer:"",tmpBuffer:"",cursor:0,suggestions:[]})),e.next=18,n.execute(a);case 18:a&&a!==i[i.length-1]&&i.push(a);case 19:this.setState(Object(m.a)({},this.state,{running:void 0,commandBuffer:"",tmpBuffer:"",cursor:0,historyIndex:i.length,history:i})),this.displayPrompt();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"100%"},ref:function(t){return e.termEl=t}})}}]),n}(a.a.Component);function ze(){var e=Object(De.a)(["\n  height: 100%;\n  .top-panel {\n  height: 60%;\n  display: flex;\n  flex-direction: row;\n  overflow: scroll;\n  }\n  .top-panel .table {\n  width: 60%;\n  margin: 15px;\n  border-collapse: collapse;\n  }\n  .top-panel .table tr {\n  border-bottom: 1px solid #888;\n  }\n  .top-panel .table td {\n  padding: 1vh;\n  font-size: 1.5vh;\n  }\n  .top-panel .card-container {\n  width: 40%;\n  margin: 15px;\n  }\n  .shell-container {\n  height: 40%;\n  }\n  .highlight {\n  background-color: #a1e3ff;\n  }\n"]);return ze=function(){return e},e}var Ge=Ae.a.div(ze());function Ke(e){var t=e.game.selected||e.game.encounter[e.game.currentIndex],n=e.game.encounter.map((function(t,n){var r,i,s;return a.a.createElement("tr",{key:n,className:n===e.game.currentIndex?"highlight":"",onClick:function(){e.game.currentIndex=n,e.game.onChange()}},a.a.createElement("td",{align:"left"},n+1),a.a.createElement("td",{align:"center"},t.name),a.a.createElement("td",{align:"right"},t.cr),a.a.createElement("td",{align:"right"},null===(r=t.status)||void 0===r?void 0:r.initiative),a.a.createElement("td",{align:"right"},(null===(i=t.status)||void 0===i?void 0:i.hp)||""),a.a.createElement("td",{align:"right"},t.ac||""),a.a.createElement("td",{align:"right"},(null===(s=t.status)||void 0===s?void 0:s.conditions.join(","))||""))}));return a.a.createElement(Ge,null,a.a.createElement("div",{className:"top-panel"},a.a.createElement("table",{className:"table","aria-label":"encounter"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",{align:"left"}),a.a.createElement("td",null,"Name"),a.a.createElement("td",{align:"right"},"CR"),a.a.createElement("td",{align:"right"},"Initiative"),a.a.createElement("td",{align:"right"},"HP"),a.a.createElement("td",{align:"right"},"AC"),a.a.createElement("td",{align:"right"},"Conditions"))),a.a.createElement("tbody",null,n)),a.a.createElement("div",{className:"card-container"},t&&"monster"===t.kind&&a.a.createElement(ye,{monster:t}),t&&"spell"===t.kind&&a.a.createElement(ae,{spell:t}),t&&"item"===t.kind&&a.a.createElement(pe,{item:t}))),a.a.createElement("div",{className:"shell-container"},a.a.createElement(_e,{program:e.game})))}var He,qe,Fe,Je,Ue,Ve,Qe,Ye,Ze,Xe,$e,et,tt,nt,rt,at,it,st,ot,ct,lt,ut,dt,mt,pt,ht,ft=n(27),vt=n(131),gt=n.n(vt),bt=function(){function e(t,n,r){Object(p.a)(this,e),this.command=void 0,this.args=void 0,this.regex=void 0,this.syntax=void 0,this.help=void 0,this.f=void 0,this.syntax=t,this.help=n,this.f=r;var a=t.split("<");this.command=a[0].trim(),a.shift(),this.args=a.map((function(e){var t=e.replace(">","").split(": "),n=Object(_.a)(t,2),r=n[0],a=n[1];return{name:r.trim().replace("?",""),type:a.trim(),optional:r.endsWith("?")}})),this.regex=new RegExp(this.args.map((function(e){return"number"===e.type?"(-?[-\\d]"+(e.optional?"*":"+")+")":"number[]"===e.type?"(-?[\\d,]"+(e.optional?"*":"+")+")":"(."+(e.optional?"*?":"+?")+")"})).join("\\s+")+"$")}return Object(h.a)(e,[{key:"execute",value:function(e,t){var n;return null===(n=e.log)||void 0===n||n.write("executing ".concat(this.syntax,"\r\n")),this.f.apply(e,this.parse(t,e.log))}},{key:"parse",value:function(e,t){var n=this,r=e.match(this.regex);return null===t||void 0===t||t.write('"'.concat(e,'".match(/').concat(this.regex,"/)\r\n")),null===t||void 0===t||t.write(JSON.stringify(r)+"\r\n"),r?r.slice(1,r.length).map((function(r,a){switch(r=r.trim(),null===t||void 0===t||t.write("arg ".concat(a,': "').concat(r,'": ').concat(n.args[a].type,"\r\n")),n.args[a].type){case"number":if(isNaN(parseInt(r))){if(n.args[a].optional)return;throw new Error("failed to parse ".concat(r," as non-optional argument ").concat(n.args[a].name,": number"))}return parseInt(r);case"number[]":var i=r.split(",").map((function(e){return parseInt(e.trim())}));if(0===i.length||i.some(isNaN)){if(n.args[a].optional)return;throw new Error("failed to parse ".concat(r," as non-optional argument ").concat(n.args[a].name,": number[]"))}return i;case"string | number":return isNaN(parseInt(r))?r:parseInt(r);case"string":return r;default:throw new Error("error parsing ".concat(e,", unknown type ").concat(n.args[a].type))}})):[e]}}]),e}(),yt={};function wt(e,t){return function(n,r,a){var i=new bt(e,t,a.value);yt[i.command]=i}}function Et(e,t){var n=0;for(void 0===t&&(t=1);t>0;t--)n+=Math.floor(Math.random()*e)+1;return n}function xt(e,t){return"".concat(t+1,". ").concat(e.name)}var kt=(He=wt("help <command?: string>","this help message"),qe=wt("welcome","toggle welcome message"),Fe=wt("new","start a new encounter"),Je=wt("reset","clear all saved state"),Ue=wt("player <name: string> <level?: number>","add a player"),Ve=wt("add <name: string> <times?: number>","add a monster the current encounter"),Qe=wt("rm <targets: number[]>","remove a monster or player from the current encounter"),Ye=wt("condition <targets: number[]> <condition: string>","toggle a condition"),Ze=wt("ls","list the status of the current encounter"),Xe=wt("balance","check the balance of the current encounter"),$e=wt("init","roll initiative"),et=wt("curr <i?: number>","set the current turn to index i, default: show the current turn"),tt=wt("next","advance turn to the next entity"),nt=wt("prev","rollback the turn by one entity"),rt=wt("dmg <targets: number[]> <points: number>","damage target"),at=wt("dc <dc: number> <attribute: string> <targets?: number[]>","roll a saving throw"),it=wt("use <action: number> <targets?: number[]>","perform actions"),st=wt("show <query: string>","show a card for the given item"),ot=wt("monster <query: string>","search and show monsters"),ct=wt("spell <query: string>","search and show spells"),lt=wt("item <query: string>","search and show items"),ut=wt("roll <desc: string>","roll them bones"),dt=wt("cast <name: string> <level?: number>","cast a spell"),mt=wt("debug","toggle debugging"),pt=wt("poke <path: string> <value: string | number>","poke variables for debugging"),ht=function(){function e(t,n){Object(p.a)(this,e),this.compendium=new F,this.setState=void 0,this.motd=void 0,this.showStartup=!0,this.encounter=[],this.currentIndex=0,this.selected=void 0,this.stdin=void 0,this.stdout=void 0,this.stderr=void 0,this.log=void 0,this.compendium=t,this.setState=n;var r=Object.keys(this.compendium.monsters);this.motd=this.compendium.monsters[r[Math.floor(Math.random()*r.length)]];var a=window.localStorage.getItem("dnd5e.gamestate");if(a){var i=JSON.parse(a);Object.assign(this,i)}}return Object(h.a)(e,[{key:"onChange",value:function(){this.setState(this),window.localStorage.setItem("dnd5e.gamestate",JSON.stringify(this))}},{key:"toJSON",value:function(){return{showStartup:this.showStartup,encounter:this.encounter,currentIndex:this.currentIndex}}},{key:"resetState",value:function(){this.showStartup=!0,this.encounter=[],this.currentIndex=0,this.selected=void 0}},{key:"execute",value:function(){var e=Object(K.a)(G.a.mark((function e(t){var n,r,a,i,s,o,c,l,u,d,m;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0,r=0,a=Object.keys(yt);case 2:if(!(r<a.length)){e.next=11;break}if(i=a[r],!t.startsWith(i)){e.next=8;break}return n=yt[i],t=t.replace(i,"").trim(),e.abrupt("break",11);case 8:r++,e.next=2;break;case 11:if(void 0!==n){e.next=14;break}return null===(s=this.stderr)||void 0===s||s.write("unknown command: ".concat(t,"\r\n")),e.abrupt("return",1);case 14:return e.prev=14,e.next=17,n.execute(this,t);case 17:o=e.sent,e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(14),console.error(e.t0),e.t0?(null===(c=this.stderr)||void 0===c||c.write(e.t0.toString()),null===(l=this.stderr)||void 0===l||l.write("\r\n")):null===(u=this.stderr)||void 0===u||u.write("unknown error\r\n"),e.abrupt("return",1);case 25:if("string"!==typeof o){e.next=30;break}null===(d=this.stdout)||void 0===d||d.write(o),null===(m=this.stdout)||void 0===m||m.write("\r\n"),e.next=40;break;case 30:if(!(o instanceof Promise)){e.next=40;break}return e.prev=31,e.next=34,o;case 34:o=e.sent,e.next=40;break;case 37:return e.prev=37,e.t1=e.catch(31),e.abrupt("return",1);case 40:return this.onChange(),e.abrupt("return",0);case 42:case"end":return e.stop()}}),e,this,[[14,20],[31,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){}},{key:"suggestions",value:function(e){if(""===e)return Object.keys(yt);for(var t=0,n=Object.keys(yt);t<n.length;t++){var r=n[t];if(e.startsWith(r)){e=e.replace(r,"").trim();break}}return this.search(e).map((function(e){return e.name})).slice(0,10)}},{key:"startup",value:function(){var e;if(!this.showStartup)return"";var t="Welcome to rpg.ai, the shell for the busy DM!\r\nLoaded the DND5E Compendium.\r\nMonster of the day: ".concat(null===(e=this.motd)||void 0===e?void 0:e.name,"\r\n");return this.encounter.length>0&&(t+="Resuming your encounter with ".concat(this.encounter.map((function(e){return e.name})).join(", "),"\r\n")),t+="\r\n"}},{key:"search",value:function(e,t){var n=[];(void 0===t||(null===t||void 0===t?void 0:t.includes("background")))&&(n=n.concat(Object.values(this.compendium.backgrounds))),(void 0===t||(null===t||void 0===t?void 0:t.includes("class")))&&(n=n.concat(Object.values(this.compendium.classes))),(void 0===t||(null===t||void 0===t?void 0:t.includes("feat")))&&(n=n.concat(Object.values(this.compendium.feats))),(void 0===t||(null===t||void 0===t?void 0:t.includes("item")))&&(n=n.concat(Object.values(this.compendium.items))),(void 0===t||(null===t||void 0===t?void 0:t.includes("monster")))&&(n=n.concat(Object.values(this.compendium.monsters))),(void 0===t||(null===t||void 0===t?void 0:t.includes("race")))&&(n=n.concat(Object.values(this.compendium.races))),(void 0===t||(null===t||void 0===t?void 0:t.includes("spell")))&&(n=n.concat(Object.values(this.compendium.spells)));var r=n.map((function(t,n){return{index:n,distance:gt.a.get(e.toLowerCase(),t.name.toLowerCase())}}));return r.sort((function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0})),r.map((function(e){return n[e.index]}))}},{key:"targets",value:function(e){var t=this;return e.map((function(e){return t.encounter[e-1]}))}},{key:"help",value:function(e){return e&&e in yt?"".concat(yt[e].syntax," - ").concat(yt[e].help):Array.from(Object.values(yt)).map((function(e){return"".concat(e.syntax," - ").concat(e.help)})).sort().join("\r\n")}},{key:"welcome",value:function(){return this.showStartup=!this.showStartup,"welcome message ".concat(this.showStartup?"on":"off")}},{key:"newEncounter",value:function(){return this.encounter=[],"started new encounter"}},{key:"reset",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.stdout)||void 0===t||t.write("are you sure (y/n)? "),e.next=3,null===(n=this.stdin)||void 0===n?void 0:n.read();case 3:if("y"!==e.sent){e.next=9;break}return this.resetState(),e.abrupt("return","\r\ncleared all saved state");case 9:return e.abrupt("return","\r\ncancelled reset");case 10:case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addPlayer",value:function(e,t){return this.encounter.push({name:e,kind:"monster",hp:"",ac:NaN,cr:t||NaN,passive:NaN,size:"",speed:"",str:NaN,dex:NaN,con:NaN,int:NaN,wis:NaN,cha:NaN,alignment:"",type:"player",compendium:{},status:{hp:NaN,maxHP:NaN,x:0,y:0,damage:[],saves:[],actions:[],reactions:[],legendaries:[],conditions:[],initiative:NaN,spellSlots:[],spellcasting:void 0}}),"added player ".concat(e)}},{key:"add",value:function(e,t){var n=this.search(e,["monster"]);if(0===n.length)return"no match found for ".concat(e);t=t||1;for(var r=0;r<t;r++){var a=JSON.parse(JSON.stringify(n[0]));a.status={initiative:Et(20)+F.modifier(a.dex),level:NaN,x:10,y:12,damage:[],saves:[],actions:[],reactions:[],legendaries:[],conditions:[],spellSlots:this.compendium.parseSpellSlots(a)};var i=this.compendium.parseHP(a);i&&(a.status.hp=Et(i.die,i.num)+(isNaN(i.bonus)?0:i.bonus),a.status.maxHP=a.status.hp),a.status.spellcasting=this.compendium.parseSpellcasting(a),this.encounter.push(a)}return"added ".concat(t," ").concat(n[0].name)}},{key:"removeEntity",value:function(e){var t=this;this.targets(e).forEach((function(e){var n=t.encounter.splice(t.encounter.indexOf(e),1)[0];return"removed ".concat(n.name)}))}},{key:"condition",value:function(e,t){t=t.toLowerCase(),this.targets(e).forEach((function(e){var n,r,a,i;-1!==(null===(n=e.status)||void 0===n?void 0:n.conditions.indexOf(t))?null===(r=e.status)||void 0===r||r.conditions.splice(null===(a=e.status)||void 0===a?void 0:a.conditions.indexOf(t),1):null===(i=e.status)||void 0===i||i.conditions.push(t)}))}},{key:"listEncounter",value:function(){return this.encounter.map(xt).join("\r\n")}},{key:"balance",value:function(){var e=this.encounter.reduce((function(e,t){return"player"===t.type?e:t.cr&&t.cr in F.cr_to_xp?e+F.cr_to_xp[t.cr]:e}),0),t=this.encounter.filter((function(e){return"player"===e.type})).map((function(e){return"string"===typeof e.cr?parseInt(e.cr):e.cr})),n=[3,2,1,0].map((function(e){return t.reduce((function(t,n){return t+F.encounter_difficulty[n][e]}),0)})),r=n.filter((function(t){return e>t})).length,a=["deadly","hard","medium","easy","trivial"][4-r];if("deadly"===a)return"deadly";var i=n[3-r]-e;return"".concat(a,": CR ").concat(F.xp_to_cr(i)," to next level")}},{key:"rollInitiative",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t,n,r,a,i,s,o,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(H.a)(this.encounter),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=13;break}if((r=n.value).status){e.next=7;break}return e.abrupt("continue",11);case 7:if(null!==r.dex){e.next=10;break}return r.status.initiative=NaN,e.abrupt("continue",11);case 10:r.status.initiative=Et(20)+F.modifier(r.dex);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:this.onChange(),a=Object(H.a)(this.encounter),e.prev=23,a.s();case 25:if((i=a.n()).done){e.next=40;break}if(!(s=i.value).status||s.status.initiative){e.next=38;break}if(null===(o=this.stdout)||void 0===o||o.write("initiative for ".concat(s.name,"? ")),this.stdin){e.next=31;break}return e.abrupt("return");case 31:return e.t1=parseInt,e.next=34,this.stdin.read();case 34:e.t2=e.sent,s.status.initiative=(0,e.t1)(e.t2),this.onChange(),null===(c=this.stdout)||void 0===c||c.write("\r\n");case 38:e.next=25;break;case 40:e.next=45;break;case 42:e.prev=42,e.t3=e.catch(23),a.e(e.t3);case 45:return e.prev=45,a.f(),e.finish(45);case 48:this.encounter.sort((function(e,t){var n,r;return((null===(n=t.status)||void 0===n?void 0:n.initiative)||0)-((null===(r=e.status)||void 0===r?void 0:r.initiative)||0)}));case 49:case"end":return e.stop()}}),e,this,[[1,15,18,21],[23,42,45,48]])})));return function(){return e.apply(this,arguments)}}()},{key:"currTurn",value:function(e){return 0===this.encounter.length?"empty encounter":(e&&(this.currentIndex=e-1),this.selected=this.encounter[this.currentIndex],xt(this.encounter[this.currentIndex],this.currentIndex))}},{key:"nextTurn",value:function(){return 0===this.encounter.length?"empty encounter":(this.currentIndex++,this.currentIndex=this.currentIndex%this.encounter.length,this.selected=this.encounter[this.currentIndex],this.currTurn())}},{key:"prevTurn",value:function(){return 0===this.encounter.length?"empty encounter":(this.currentIndex--,-1===this.currentIndex&&(this.currentIndex=this.encounter.length-1),this.selected=this.encounter[this.currentIndex],this.currTurn())}},{key:"dmg",value:function(){var e=Object(K.a)(G.a.mark((function e(t,n){var r,a,i,s,o,c,l,u,d,m,p,h,f,v,g,b,y,w,E,x,k;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(r=this.log)||void 0===r||r.write("".concat(JSON.stringify(t)," ").concat(n,"\r\n")),a=Object(H.a)(this.targets(t)),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=44;break}if((o=i.value).status){e.next=9;break}return null===(c=this.stdout)||void 0===c||c.write("".concat(o.name," has no status\r\n")),e.abrupt("continue",42);case 9:if(this.selected=o,l=n,!(o.vulnerable||o.resist||o.immune)){e.next=38;break}if(u=1,!o.vulnerable){e.next=21;break}return null===(d=this.stdout)||void 0===d||d.write("Vulnerable: ".concat(o.vulnerable," (y/n)? ")),e.next=17,null===(m=this.stdin)||void 0===m?void 0:m.read();case 17:if(e.t0=e.sent,"y"!==e.t0){e.next=20;break}u=2;case 20:null===(p=this.stdout)||void 0===p||p.write("\r\n");case 21:if(!o.resist){e.next=29;break}return null===(h=this.stdout)||void 0===h||h.write("Resist: ".concat(o.resist," (y/n)? ")),e.next=25,null===(f=this.stdin)||void 0===f?void 0:f.read();case 25:if(e.t1=e.sent,"y"!==e.t1){e.next=28;break}u=.5;case 28:null===(v=this.stdout)||void 0===v||v.write("\r\n");case 29:if(!o.immune){e.next=37;break}return null===(g=this.stdout)||void 0===g||g.write("Immune: ".concat(o.immune," (y/n)? ")),e.next=33,null===(b=this.stdin)||void 0===b?void 0:b.read();case 33:if(e.t2=e.sent,"y"!==e.t2){e.next=36;break}u=0;case 36:null===(y=this.stdout)||void 0===y||y.write("\r\n");case 37:l=Math.floor(n*u);case 38:o.status.hp-=l,o.status.damage.push({name:"",text:l.toString()}),"player"!==o.type&&((null===(w=o.status)||void 0===w?void 0:w.hp)<=Math.floor((null===(E=o.status)||void 0===E?void 0:E.maxHP)/2)?o.status.conditions.includes("bloodied")||o.status.conditions.push("bloodied"):o.status.conditions.includes("bloodied")&&(null===(x=o.status)||void 0===x||x.conditions.splice(null===(k=o.status)||void 0===k?void 0:k.conditions.indexOf("bloodied"),1))),null===(s=this.stdout)||void 0===s||s.write("".concat(o.name," took ").concat(l," points of damage\r\n"));case 42:e.next=4;break;case 44:e.next=49;break;case 46:e.prev=46,e.t3=e.catch(2),a.e(e.t3);case 49:return e.prev=49,a.f(),e.finish(49);case 52:case"end":return e.stop()}}),e,this,[[2,46,49,52]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"save",value:function(e,t,n){var r=this;t=t.toLowerCase();var a,i=F.abilities.find((function(e){return e.toLowerCase().substring(0,3)===t}));i?(n||(n=[this.currentIndex+1]),this.targets(n).forEach((function(n){var a,s,o=n[i.substring(0,3).toLowerCase()],c=Et(20,1),l=F.modifier(o),u=c+l>=e?"passes":"fails";null===(a=r.stdout)||void 0===a||a.write("".concat(n.name," rolls a ").concat(c+l," (").concat(c,"+").concat(l,") and ").concat(u,"\r\n")),null===(s=n.status)||void 0===s||s.saves.push({name:t,text:u})}))):null===(a=this.stderr)||void 0===a||a.write("unknown attribute ".concat(t,"\r\n"))}},{key:"use",value:function(e,t){var n=this;t&&!isNaN(t[0])||(t=[this.currentIndex+1]),this.targets(t).forEach((function(t){var r,a,i;if(t.action){var s=(t.action instanceof Array?t.action:[t.action])[e-1];null===(r=t.status)||void 0===r||r.actions.push(s);var o=s.text;o instanceof Array||(o=[o]),null===(a=n.stdout)||void 0===a||a.write(o.join("\r\n")),null===(i=n.stdout)||void 0===i||i.write("\r\n")}}))}},{key:"show",value:function(e){var t=this.search(e);if(0===t.length)return"no match found for ".concat(e);this.selected=t[0]}},{key:"monster",value:function(e){var t=this.search(e,["monster"]);if(0===t.length)return"no match found for ".concat(e);this.selected=t[0]}},{key:"spell",value:function(e){var t=this.search(e,["spell"]);if(0===t.length)return"no match found for ".concat(e);this.selected=t[0]}},{key:"item",value:function(e){var t=this.search(e,["item"]);if(0===t.length)return"no match found for ".concat(e);this.selected=t[0]}},{key:"roll",value:function(e){var t=e.match(/(\d+)d(\d+)[+]?(\d+)?/);if(t){var n,r=parseInt(t[1]),a=parseInt(t[2]),i=parseInt(t[3]);null===(n=this.stdout)||void 0===n||n.write("".concat(Et(a,r)+(i||0),"\r\n"))}}},{key:"cast",value:function(e,t){var n,r,a=this.encounter[this.currentIndex],i=null===(n=a.status)||void 0===n?void 0:n.spellSlots.map((function(t,n){return t.spells.map((function(r){return{level:n,slot:t,spell:r,distance:gt.a.get(e.toLowerCase(),r.name.toLowerCase())}}))})).flat().sort((function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0}))[0];if(i){var s,o=i.slot;if(t&&(null===(r=a.status)||void 0===r?void 0:r.spellSlots))o=null===(s=a.status)||void 0===s?void 0:s.spellSlots[t];return o.slots<=0?"".concat(a.name," has no more slots at level ").concat(t||i.level,"!"):(o.slots-=1,this.show(i.spell.name),"".concat(a.name," casts ").concat(i.spell.name," at level ").concat(t||i.level,"!"))}}},{key:"toggleDebug",value:function(){var e;this.log?this.log=void 0:this.log=this.stderr,null===(e=this.stdout)||void 0===e||e.write("debug ".concat(this.log?"on":"off","\r\n"))}},{key:"poke",value:function(e,t){var n,r=this,a=e.split("."),i=Object(H.a)(a.slice(0,a.length-1));try{var s=function(){var e=n.value,t=Object.entries(r).find((function(t){return t[0]===e}));if(!t)throw new Error("no match found at ".concat(e));r=t[1]};for(i.s();!(n=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}r[a[a.length-1]]=t}}]),e}(),Object(ft.a)(ht.prototype,"help",[He],Object.getOwnPropertyDescriptor(ht.prototype,"help"),ht.prototype),Object(ft.a)(ht.prototype,"welcome",[qe],Object.getOwnPropertyDescriptor(ht.prototype,"welcome"),ht.prototype),Object(ft.a)(ht.prototype,"newEncounter",[Fe],Object.getOwnPropertyDescriptor(ht.prototype,"newEncounter"),ht.prototype),Object(ft.a)(ht.prototype,"reset",[Je],Object.getOwnPropertyDescriptor(ht.prototype,"reset"),ht.prototype),Object(ft.a)(ht.prototype,"addPlayer",[Ue],Object.getOwnPropertyDescriptor(ht.prototype,"addPlayer"),ht.prototype),Object(ft.a)(ht.prototype,"add",[Ve],Object.getOwnPropertyDescriptor(ht.prototype,"add"),ht.prototype),Object(ft.a)(ht.prototype,"removeEntity",[Qe],Object.getOwnPropertyDescriptor(ht.prototype,"removeEntity"),ht.prototype),Object(ft.a)(ht.prototype,"condition",[Ye],Object.getOwnPropertyDescriptor(ht.prototype,"condition"),ht.prototype),Object(ft.a)(ht.prototype,"listEncounter",[Ze],Object.getOwnPropertyDescriptor(ht.prototype,"listEncounter"),ht.prototype),Object(ft.a)(ht.prototype,"balance",[Xe],Object.getOwnPropertyDescriptor(ht.prototype,"balance"),ht.prototype),Object(ft.a)(ht.prototype,"rollInitiative",[$e],Object.getOwnPropertyDescriptor(ht.prototype,"rollInitiative"),ht.prototype),Object(ft.a)(ht.prototype,"currTurn",[et],Object.getOwnPropertyDescriptor(ht.prototype,"currTurn"),ht.prototype),Object(ft.a)(ht.prototype,"nextTurn",[tt],Object.getOwnPropertyDescriptor(ht.prototype,"nextTurn"),ht.prototype),Object(ft.a)(ht.prototype,"prevTurn",[nt],Object.getOwnPropertyDescriptor(ht.prototype,"prevTurn"),ht.prototype),Object(ft.a)(ht.prototype,"dmg",[rt],Object.getOwnPropertyDescriptor(ht.prototype,"dmg"),ht.prototype),Object(ft.a)(ht.prototype,"save",[at],Object.getOwnPropertyDescriptor(ht.prototype,"save"),ht.prototype),Object(ft.a)(ht.prototype,"use",[it],Object.getOwnPropertyDescriptor(ht.prototype,"use"),ht.prototype),Object(ft.a)(ht.prototype,"show",[st],Object.getOwnPropertyDescriptor(ht.prototype,"show"),ht.prototype),Object(ft.a)(ht.prototype,"monster",[ot],Object.getOwnPropertyDescriptor(ht.prototype,"monster"),ht.prototype),Object(ft.a)(ht.prototype,"spell",[ct],Object.getOwnPropertyDescriptor(ht.prototype,"spell"),ht.prototype),Object(ft.a)(ht.prototype,"item",[lt],Object.getOwnPropertyDescriptor(ht.prototype,"item"),ht.prototype),Object(ft.a)(ht.prototype,"roll",[ut],Object.getOwnPropertyDescriptor(ht.prototype,"roll"),ht.prototype),Object(ft.a)(ht.prototype,"cast",[dt],Object.getOwnPropertyDescriptor(ht.prototype,"cast"),ht.prototype),Object(ft.a)(ht.prototype,"toggleDebug",[mt],Object.getOwnPropertyDescriptor(ht.prototype,"toggleDebug"),ht.prototype),Object(ft.a)(ht.prototype,"poke",[pt],Object.getOwnPropertyDescriptor(ht.prototype,"poke"),ht.prototype),ht),Ot=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var r;Object(p.a)(this,n),(r=t.call(this,e)).snackbarQueue=[],r.toggleDrawer=function(e){return function(e){r.setState(Object(m.a)({},r.state,{drawerOpen:!r.state.drawerOpen}))}},r.selectTab=function(e){var t=parseInt(e.currentTarget.dataset.tabindex||"0");r.setState(Object(m.a)({},r.state,{tabSelected:t}))},r.handleTabChange=function(e,t){r.setState(Object(m.a)({},r.state,{tabSelected:t}))},r.addSnackbarMessage=function(e){r.snackbarQueue.push({message:e,key:(new Date).getTime()}),r.state.snackbarOpen?r.setState({snackbarOpen:!1}):r.processSnackbarQueue()},r.handleSnackbarClosed=function(){r.setState({snackbarOpen:!1})},r.handleSnackbarExited=function(){r.processSnackbarQueue()},r.processSnackbarQueue=function(){r.snackbarQueue.length>0&&r.setState({snackbarOpen:!0,snackbarMessage:r.snackbarQueue.shift()})};var a=new J;return a.load().then((function(){r.setState(Object(m.a)({},r.state,{compendium:a}))})),r.state={drawerOpen:!1,tabSelected:0,compendium:a,game:new kt(a,(function(e){r.setState(Object(m.a)({},r.state,{game:e}))})),snackbarOpen:!1,snackbarMessage:void 0},r}return Object(h.a)(n,[{key:"render",value:function(){return r.createElement("div",{style:{height:"100%"},className:"column"},r.createElement(b.a,{position:"static"},r.createElement(B.a,{className:"justify-content-space-between"},r.createElement(O.a,{color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer(!0)},r.createElement(S.a,null)),!this.state.compendium.loaded&&r.createElement(x.a,{color:"secondary"}),r.createElement(P.a,{value:this.state.tabSelected,onChange:this.handleTabChange,className:"flex-1"},r.createElement(M.a,{label:"Spells"}),r.createElement(M.a,{label:"Items"}),r.createElement(M.a,{label:"Monsters"}),r.createElement(M.a,{label:"Backgrounds"}),r.createElement(M.a,{label:"Feats"}),r.createElement(M.a,{label:"Classes"}),r.createElement(M.a,{label:"Races"}),r.createElement(M.a,{label:"Encounter"})))),r.createElement(D.a,{open:this.state.drawerOpen,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0)},r.createElement(L.a,{className:"align-self-center",variant:"h5",style:{marginTop:"5px"}},"D&D Binder"),r.createElement(w.a,{"data-tabindex":"0",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Spells"),r.createElement(w.a,{"data-tabindex":"1",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Items"),r.createElement(w.a,{"data-tabindex":"2",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Monsters"),r.createElement(w.a,{"data-tabindex":"3",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Backgrounds"),r.createElement(w.a,{"data-tabindex":"4",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Feats"),r.createElement(w.a,{"data-tabindex":"5",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Classes"),r.createElement(w.a,{"data-tabindex":"6",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Races"),r.createElement(w.a,{"data-tabindex":"7",onClick:this.selectTab,style:{fontSize:"20px",textAlign:"left"}},"Encounter")),r.createElement("div",{className:"container"},0===this.state.tabSelected&&r.createElement(ue,{spells:this.state.compendium.spells}),1===this.state.tabSelected&&r.createElement(he,{items:this.state.compendium.items}),2===this.state.tabSelected&&r.createElement(we,{monsters:this.state.compendium.monsters}),3===this.state.tabSelected&&r.createElement(Oe,{backgrounds:this.state.compendium.backgrounds}),4===this.state.tabSelected&&r.createElement(je,{feats:this.state.compendium.feats}),5===this.state.tabSelected&&r.createElement(Ce,{classes:this.state.compendium.classes}),6===this.state.tabSelected&&r.createElement(Ne,{races:this.state.compendium.races}),7===this.state.tabSelected&&r.createElement(Ke,{game:this.state.game})),void 0!==this.state.snackbarMessage&&r.createElement(I.a,{key:this.state.snackbarMessage.key,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,onClose:this.handleSnackbarClosed,onExited:this.handleSnackbarExited,autoHideDuration:3e3,ContentProps:{"aria-describedby":"snackbar-message"},message:r.createElement("span",{id:"snackbar-message"},this.state.snackbarMessage.message)}))}}]),n}(r.Component),jt=(n(434),Object(l.createMuiTheme)({palette:{primary:d.a},typography:{useNextVariants:!0}}));i.render(r.createElement(l.MuiThemeProvider,{theme:jt},r.createElement(Ot,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dnd5e-binder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dnd5e-binder","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()}},[[202,1,2]]]);
//# sourceMappingURL=main.be448b47.chunk.js.map